---
const techItems: { label: string; icon: string }[] = [
  { label: 'Python', icon: 'logos:python' },
  { label: 'SQL', icon: 'mdi:database-outline' },
  { label: 'DAX', icon: 'mdi:function-variant' },
  { label: 'Godot', icon: 'logos:godot-icon' },
  { label: 'Lakehouses', icon: 'mdi:warehouse' },
  { label: 'Dataflows', icon: 'mdi:source-branch' },
  { label: 'Pipelines', icon: 'mdi:pipe' },
  { label: 'Microsoft Fabric', icon: 'mdi:microsoft' },
  { label: 'AWS SageMaker', icon: 'simple-icons:amazonsagemaker' },
  { label: 'AWS Bedrock', icon: 'mdi:mountain' },
  { label: 'Azure OpenAI', icon: 'logos:microsoft-azure' },
  { label: 'Keras', icon: 'simple-icons:keras' },
  { label: 'LangChain', icon: 'simple-icons:langchain' },
  { label: 'Power BI', icon: 'simple-icons:powerbi' },
  { label: 'Cursor IDE', icon: 'mdi:cursor-default-outline' },
  { label: 'ChatGPT', icon: 'simple-icons:openai' }
];
---
<section id="tech" class="mx-auto mt-24 max-w-6xl" data-reveal>
  <div class="section-shell px-8 py-12 md:px-12">
    <header class="mb-6">
      <h2 class="flex items-center gap-3 text-3xl font-semibold text-white md:text-4xl">
        <span class="inline-flex h-9 w-9 items-center justify-center rounded-lg bg-white/10">
          <iconify-icon icon="mdi:chip" width="18" height="18" class="text-white/80"></iconify-icon>
        </span>
        Tech Stack
      </h2>
      <p class="mt-2 max-w-2xl text-white/70">A quick look at the tools and platforms I actually ship with.</p>
    </header>

    <div class="relative overflow-hidden">
      <div class="pointer-events-none absolute inset-y-0 left-0 w-16 bg-gradient-to-r from-[#0b0b0c] to-transparent"></div>
      <div class="pointer-events-none absolute inset-y-0 right-0 w-16 bg-gradient-to-l from-[#0b0b0c] to-transparent"></div>

      <div class="tech-scroller-container relative overflow-hidden">
        <!-- Floating particles -->
        <div class="absolute inset-0 overflow-hidden pointer-events-none">
          <div class="tech-particle tech-particle-1"></div>
          <div class="tech-particle tech-particle-2"></div>
          <div class="tech-particle tech-particle-3"></div>
          <div class="tech-particle tech-particle-4"></div>
        </div>
        
        <div class="tech-scroller will-change-transform">
          <div class="tech-track" aria-hidden="false">
            {techItems.map((item) => (
              <div class="tech-pill">
                <div class="icon-container">
                  <iconify-icon icon={item.icon} width="22" height="22" class="text-white/90" style="display: inline-block; min-width: 22px; min-height: 22px;"></iconify-icon>
                </div>
                <span class="text-white/85">{item.label}</span>
              </div>
            ))}
            {techItems.map((item) => (
              <div class="tech-pill" aria-hidden="true">
                <div class="icon-container">
                  <iconify-icon icon={item.icon} width="22" height="22" class="text-white/90" style="display: inline-block; min-width: 22px; min-height: 22px;"></iconify-icon>
                </div>
                <span class="text-white/85">{item.label}</span>
              </div>
            ))}
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  .tech-scroller-container {
    padding: 6px 0;
  }
  
  .tech-scroller { 
    padding: 6px 0; 
  }
  
  .tech-track {
    display: flex;
    gap: 12px;
    width: max-content;
    animation: tech-scroll 42s linear infinite;
    will-change: transform;
  }
  
  .tech-pill {
    display: inline-flex;
    align-items: center;
    gap: 10px;
    padding: 10px 16px;
    border-radius: 9999px;
    border: 1px solid rgba(255,255,255,0.08);
    background: rgba(255,255,255,0.06);
    box-shadow: 0 6px 18px rgba(0,0,0,0.2) inset;
    backdrop-filter: blur(2px);
    min-height: 42px; /* Fixed height to prevent layout shift */
  }
  
  .icon-container {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 22px;
    height: 22px;
    flex-shrink: 0;
  }
  
  .tech-particle {
    position: absolute;
    width: 2px;
    height: 2px;
    background: linear-gradient(45deg, #06b6d4, #8b5cf6);
    border-radius: 50%;
    opacity: 0.6;
  }
  
  .tech-particle-1 { top: 20%; left: 10%; animation: tech-particle-float 5s ease-in-out infinite; }
  .tech-particle-2 { top: 70%; left: 30%; animation: tech-particle-float 4s ease-in-out infinite 1s; }
  .tech-particle-3 { top: 40%; right: 20%; animation: tech-particle-float 6s ease-in-out infinite 2s; }
  .tech-particle-4 { top: 80%; right: 40%; animation: tech-particle-float 4.5s ease-in-out infinite 0.5s; }
  
  @keyframes tech-scroll {
    from { transform: translateX(0); }
    to { transform: translateX(-50%); }
  }
  
  @keyframes tech-particle-float {
    0%, 100% { transform: translateY(0px) opacity(0.6); }
    50% { transform: translateY(-15px) opacity(1); }
  }
</style>
