---
import type { CollectionEntry } from 'astro:content';

const { posts = [] } = Astro.props as { posts: CollectionEntry<'blog'>[] };
---
<section class="mx-auto mt-24 max-w-6xl" data-reveal>
  <div class="section-shell px-8 py-10 md:px-12">
    <div class="flex flex-col gap-4 md:flex-row md:items-end md:justify-between">
      <div>
        <h2 class="text-3xl font-semibold text-white md:text-4xl">My Blog</h2>
        <p class="mt-2 max-w-xl text-white/70">
          Long-form reflections on analytics engineering, AI product craft, and the playfulness that keeps experimentation alive.
        </p>
      </div>
      <a class="inline-flex items-center gap-2 text-sm text-white/80 hover:text-white" href="/blog">
        Browse the blog <span aria-hidden="true">â†’</span>
      </a>
    </div>
    <div class="mt-10 grid gap-6 md:grid-cols-2">
      {posts.map((post) => (
        <article class="rounded-3xl border border-white/10 bg-white/5 p-6 transition hover:border-white/30 hover:bg-white/10">
          <p class="text-xs uppercase tracking-[0.3em] text-white/50">{post.data.publishDate.toLocaleDateString(undefined, { month: 'short', day: 'numeric', year: 'numeric' })}</p>
          <h3 class="mt-3 text-2xl font-semibold text-white">
            <a href={`/blog/${post.slug}`}>{post.data.title}</a>
          </h3>
          <p class="mt-3 text-sm text-white/70">{post.data.description}</p>
          <div class="mt-4 flex flex-wrap gap-2 text-xs text-white/60">
            {post.data.tags.map((tag) => (
              <span class="rounded-full border border-white/10 bg-white/5 px-3 py-1">{tag}</span>
            ))}
          </div>
        </article>
      ))}
    </div>
  </div>
</section>
